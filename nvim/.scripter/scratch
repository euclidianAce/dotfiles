local l = {1, {2, 3}, {{4}, {5, 6}, 7}, 8}
local function flatten_iter(nested_list)
	local function iter(list)
		for i, v in ipairs(list) do
			if type(v) == "table" then
				iter(v)
			else
				coroutine.yield(v)
			end
		end
	end
	return corotine.wrap(iter), nested_list
end
